var O2 = require('o2');
var Effect = require('./Abstract/Effect.js');

// Effet de resurection
// Purge totale des effets non naturels
// restauration des points de vie
O2.extendClass('ADV.Effect.Revive', Effect, {
	
	__construct: function(n) {
		O2.parent(this, 'Revive', 'bless');
	},
	
	cast: function(ep) {
		var oEntity = this.getTarget();
		var oSoul = oEntity.getSoul();
		oSoul.setAttribute('dead', 0);
		ep.stripEffects(oEntity);
		oSoul.setBonus('damage', -oSoul.getAttribute('damage'));
	}
});

module.exports = ADV.Effect.Revive;
