var oEffects = require('./loader.js')(__dirname + '/Effects/');

/** 
 * Clonage d'une effet
 */
function createEffect(sEffect) {
	var aDesc = sEffect.split(' ');
	var sTag = aDesc[0];
	var nLevel = aDesc[1] | 0;
	var nDuration = aDesc[2] === '-' ? null : aDesc[2] | 0;
	var E = oEffects[sTag];
	var oEffect = new E(nLevel);
	oEffect.setDuration(nDuration);
	return oEffect;
}

/** 
 * Clonage d'une effet
 */
function cloneEffect(e) {
	var sTag = e.getTag(0);
	var nLevel = e.getLevel();
	var nDuration = e.getDuration();
	var E = oEffects[sTag];
	var oEffect = new E(nLevel);
	oEffect.setDuration(nDuration);
	return oEffect;
}

oEffects.create = createEffect;
oEffects.clone = cloneEffect;

// Damage 7 
// Root 10 10
// Effect level, duration, 

module.exports = oEffects;
