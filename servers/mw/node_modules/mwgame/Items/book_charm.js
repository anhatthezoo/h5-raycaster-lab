var O2 = require('o2');
var CONST = require('../data/consts.js');
var Effect = require('../Effects.js');
var Book = require('./Abstract/Book.js');
var u = require('../Utils.js');

/**
 * spellbook of charm
 * Ce sort envoie une gerbe de 5 projectiles qui peuvent charmer un monstre
 * les monstre charmés deviennent les allié du lanceur de sorts
 */
O2.extendClass('BookCharm', Book, {
	missileRef: 'p_spell',
	missiles: 5,
	cooldown: CONST.SPELL_DURATION_LEVEL[2],

	read: function(ctx) {
		var eCharm = new Effect.Charm();
		eCharm.setDuration(CONST.EFFECT_DURATION_MEDIUM);
		this.curse(eCharm);
	}
});

module.exports = BookCharm;
