/**
 * Ce petit outil permet de charge d'un coup toutes les classe d'un répertoire
 * Les classes ont ensuite rassemblées dans un objets pour une meilleure organisation
 */

var fs = require('fs');

function loadClasses(sPath) {
	var aFiles = fs.readdirSync(sPath);
	var oObjects = {};
	
	aFiles.forEach(function(f) {
		var r = f.match(/^(.*)\.js$/);
		if (r) {
			oObjects[r[1]] = require(sPath + f);
		}
	});
	return oObjects;
}

module.exports = loadClasses;