var O2 = require('o2');
var u = require('../Utils.js');
var Effect = require('../Effects.js');
var Potion = require('./Abstract/Potion.js');
var CONST = require('mwgame/data/consts.js');

/**
 * Potion de soin 3 :
 * augmente la vitalité de 20 points
 * Soigne de 90 à 120 points de vie.
 * améliore l'efficacité des soins pendant un moment
 */
O2.extendClass('PotionHealing3', Potion, {
	drink: function(ctx) {
		var eHeal = new Effect.Heal(u.rand(90, 120));
		var ePharma = new Effect.Pharma(20);
		ePharma.setDuration(CONST.EFFECT_DURATION_LONG);
		var eVit = new Effect.Vitality(20);
		eVit.setDuration(CONST.EFFECT_DURATION_LONG);
		ctx.effects = [eVit, eHeal, ePharma];
	}
});

module.exports = PotionHealing3;
