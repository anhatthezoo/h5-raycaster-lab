var O2 = require('o2');
var CONST = require('../data/consts.js');
var Effect = require('../Effects.js');
var Book = require('./Abstract/Book.js');

/**
 * spellbook of deflector
 * Repousse un certain type de projectiles. Il s'agit des projectiles énergétique
 * dans la fonction principale et de faire des dégâts.
 * Ne repousse pas les projectiles des sorts.
 * Les projectile repoussés sont : 
 * Tous les projectiles des baguette,
 * L'orbe rebondissante,
 * La boule de feu
 * L'épieu de glace du sort de freeze
 */
var BookDeflector = O2.extendClass(Book, {
	cooldown: CONST.SPELL_DURATION_LEVEL[3],

	read: function(ctx) {
		var eDeflect = new Effect.Magnet(-2);
		eDeflect.setDuration(CONST.EFFECT_DURATION_MEDIUM);
		this.bless(eDeflect);
	}
});

module.exports = BookDeflector;
