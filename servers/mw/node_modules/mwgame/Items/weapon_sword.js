var O2 = require('o2');
var Utils = require('../Utils.js');
var Effect = require('../Effects.js');
var Weapon = require('./Abstract/Weapon.js');

/**
 * Baguette magique type 1
 * Chaque missile inflige entre 5 et 10 points de dégâts 
 */
var WeaponSword = O2.extendClass(Weapon, {
	
	fire: function(ctx) {
		O2.parent(this, ctx);
		var m, e;
		if (ctx.missiles) {
			for (var i = 0; i < ctx.missiles.length; ++i) {
				m = ctx.missiles[i];
				e = m.getData('effects');
				e.push(new Effect.PhysicalDamage(Utils.rand(10, 15)));
			}
		}
	}
});

module.exports = WeaponSword;
