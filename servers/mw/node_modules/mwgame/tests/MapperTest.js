test('basic', function(assert) {
	setPalette('test', {
		background: 'resources/tiles/textures/s00.png',
		walls: 'resources/tiles/textures/w00.png',
		flats: 'resources/tiles/textures/f00.png',
		tags: {
			1: 'test tag t1',
			2: 'test tag t2'
		},
		blocks: {
			0: { 
				w: null,
				f: [0, 1],
				c: BLOCK.VOID,
				o: 0
			},
			1: { 
				w: [0, 0],
				f: null,
				c: BLOCK.SOLID_WALL,
				o: 0
			}
		}
	});
	
	
	var aMap = [
	            [1, 1, 1, 1],
	            [1, 0, 0, 1],
	            [1, 0x100, 0x200, 1],
	            [1, 1, 1, 1]
	            ];
	setMap('testmap', aMap, 'test', 'normal');
	var d = load('testmap');

	assert.equal(d.map.length, 4);
	assert.equal(d.map[0][0], 0x101);
	assert.equal(d.map[1][1], 0);
	assert.equal(d.map[2][2], 0);
	assert.deepEqual(d.tags[0], {x: 1, y: 2, tag: 'test tag t1'});
	assert.deepEqual(d.tags[1], {x: 2, y: 2, tag: 'test tag t2'});
});
