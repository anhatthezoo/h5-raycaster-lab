var O2 = require('o2');
var CONST = require('../data/consts.js');
var Effect = require('../Effects.js');
var Book = require('./Abstract/Book.js');
var u = require('../Utils.js');

/**
 * spellbook of charm
 * Ce sort envoie une gerbe de 5 projectiles qui peuvent bloquer la production d'energie
 * des cibles touch√©es : celles ci ne peuvent plus tirer de missiles magiques
 */
var BookMagicShutdown = O2.extendClass(Book, {
	missileRef: 'p_spell',
	missiles: 5,
	cooldown: CONST.SPELL_DURATION_LEVEL[5],

	read: function(ctx) {
		var eCD = new Effect.Cooldown(1000);
		eCD.setDuration(CONST.EFFECT_DURATION_MEDIUM);
		var eEne = new Effect.Energy(-90);
		eEne.setDuration(CONST.EFFECT_DURATION_MEDIUM);
		this.curse([eCD, eEne]);
	}
});

module.exports = BookMagicShutdown;
